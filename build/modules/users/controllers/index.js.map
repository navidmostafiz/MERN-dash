{"version":3,"sources":["../../../../server/modules/users/controllers/index.js"],"names":["getAllUser","getUser","addUser","updateUser","req","res","next","console","log","find","sort","createdAt","exec","err","users","status","json","success","message","data","params","_id","findById","user","firstName","lastName","body","newUser","Object","assign","password","generateHash","save","emailAddress"],"mappings":"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","file":"index.js","sourcesContent":["import User from '../models/index.js';\n\n/**\n * get users\n */\nexport function getAllUser(req, res, next) {\n  console.log('server.getAllUser');\n  User.find().sort({\n    createdAt: -1,\n  }).exec((err, users) => {\n    if (err) return next(err);\n    return res.status(200).json({\n      success: true,\n      message: 'Get all user',\n      data: users,\n    });\n  });\n}\n\n/**\n * get user\n */\nexport function getUser(req, res, next) {\n  console.log(\"\\t\\t\\treq.params._id = \" + req.params._id);\n  User.findById(req.params._id)\n    .exec((err, user) => {\n      if (err) return next(err);\n      console.log('\\t\\t\\t\\t\\t\\t\\tGET/getUser: ' + user.firstName);\n      console.log('\\t\\t\\t\\t\\t\\t\\tGET/getUser: ' + user.lastName);\n      return res.status(200).json({\n        success: true,\n        message: 'Get user',\n        data: user,\n      });\n    });\n}\n\n\n/**\n * add user\n */\nexport function addUser(req, res, next) {\n  console.log('addUser(req.body): ', req.body);\n  const newUser = new User();\n  Object.assign(newUser, req.body, {\n    password: newUser.generateHash(req.body.password),\n  });\n  console.log('addUser(newUser): ', newUser);\n  newUser.save(function (err, user) {\n    if (err) return next(err);\n\n    return res.status(201).json({\n      success: true,\n      message: 'Created user!',\n      data: user,\n    });\n  });\n}\n\n\n/**\n * update user\n */\nexport function updateUser(req, res, next) {\n  console.log(\"*********************************************UpdateUser\" + req.body.firstName);\n  User.findById(req.params._id, function (err, user) {\n    if (err) return next(err);\n\n    user.firstName = req.body.firstName;\n    user.lastName = req.body.lastName;\n    user.emailAddress = req.body.emailAddress;\n    user.status = req.body.status;\n\n    user.save(function (err) {\n      if (err) return next(err);\n\n      return res.status(201).json({\n        success: true,\n        message: 'Updated user!',\n        data: user\n      });\n    });\n  });\n\n}\n\n\n// export function updateUser(req, res, next) {\n//   console.log('updateUser(req.body): ', req.body);\n//   const newUser = new User();\n//   Object.assign(newUser, req.body, {\n//     password: newUser.generateHash(req.body.password),\n//   });\n//   console.log('registerUser(newUser): ', newUser);\n//   newUser.save(function (err, user) {\n//     if (err) return next(err);\n\n//     return res.status(201).json({\n//       success: true,\n//       message: 'Registered user!',\n//       data: user,\n//     });\n//   });\n\n// }\n"]}